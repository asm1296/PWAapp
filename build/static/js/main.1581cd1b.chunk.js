(this["webpackJsonpmy-ts-pwa-2"]=this["webpackJsonpmy-ts-pwa-2"]||[]).push([[0],{21:function(t,e,n){t.exports={container:"AddProductPopUp_container__1PFC0",insideContainer:"AddProductPopUp_insideContainer__3hmwW"}},23:function(t,e,n){t.exports={card:"ProductDetails_card__20GV-",container:"ProductDetails_container__2-g01"}},24:function(t,e,n){t.exports={container:"ShoppingPage_container__OrtHd"}},28:function(t,e,n){t.exports={container:"AddProductSection_container__2raOs"}},29:function(t,e,n){t.exports={container:"ProductListSection_container__3rfiI"}},39:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),i=n(8),c=n.n(i),s=(n(39),n(5)),a=n(9),d=n(10),p=n(12),u=n(11),l=n(1),A=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).state={hasError:!1},o}return Object(d.a)(n,[{key:"render",value:function(){return!0===this.state.hasError?Object(l.jsx)("h2",{children:"Something went Wrong"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),n}(r.a.Component),h=n(21),j=n.n(h),g=document.getElementById("popup-form"),O=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).newDiv=void 0,o.nameRef=void 0,o.priceRef=void 0,o.descriptionRef=void 0,o.addProductHandler=function(){var t,e,n,r={id:o.props.id+1,type:null===(t=o.nameRef.current)||void 0===t?void 0:t.value,price:null===(e=o.priceRef.current)||void 0===e?void 0:e.value,description:null===(n=o.descriptionRef.current)||void 0===n?void 0:n.value};o.props.addProduct(r),o.props.popupChange()},o.state={type:"",price:0,description:""},o.newDiv=document.createElement("div"),o.nameRef=r.a.createRef(),o.priceRef=r.a.createRef(),o.descriptionRef=r.a.createRef(),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){null===g||void 0===g||g.appendChild(this.newDiv)}},{key:"componentWillUnmount",value:function(){null===g||void 0===g||g.removeChild(this.newDiv)}},{key:"render",value:function(){return c.a.createPortal(Object(l.jsx)("div",{className:j.a.container,children:Object(l.jsxs)("div",{className:j.a.insideContainer,children:[Object(l.jsx)("h3",{children:"Add Product"}),Object(l.jsx)("span",{onClick:this.props.popupChange,children:" X "}),Object(l.jsx)("label",{children:"Name : "}),Object(l.jsx)("input",{type:"text",ref:this.nameRef,name:"type"}),Object(l.jsx)("label",{children:"Price : "}),Object(l.jsx)("input",{type:"text",ref:this.priceRef,name:"price"}),Object(l.jsx)("label",{children:"Description : "}),Object(l.jsx)("input",{type:"text",ref:this.descriptionRef,name:"description"}),Object(l.jsx)("button",{onClick:this.addProductHandler,children:"Add"})]})}),this.newDiv)}}]),n}(r.a.Component),f=n(14),B=n(28),b=n.n(B),S=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).popUpHandler=function(){o.setState({openPopup:!o.state.openPopup})},o.state={openPopup:!1,username:""},o}return Object(d.a)(n,[{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:b.a.container,children:[this.props.userName.length>0?Object(l.jsxs)("h3",{children:["Hello ",this.props.userName]}):null,Object(l.jsx)("button",{onClick:this.popUpHandler,children:" ADD PRODUCT "}),Object(l.jsxs)("h4",{children:["Available Products : ",this.props.productCount]}),this.state.openPopup&&Object(l.jsx)(O,{popupChange:this.popUpHandler,id:this.props.productCount,addProduct:this.props.addProduct})]})})}}]),n}(r.a.Component);var v=Object(f.b)((function(t){return{userName:t.userName}}))(S),w=n(23),m=n.n(w),x=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).inputRef=void 0,o.removeThisProduct=function(){o.props.removeProduct(o.props.productID)},o.state={},o.inputRef=r.a.createRef(),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t;this.props.focus&&(null===(t=document.getElementById("focusable"))||void 0===t||t.focus())}},{key:"componentWillUnmount",value:function(){var t=this.props.productCount-1;this.props.setProductCount(t)}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:m.a.card,id:"focusable",tabIndex:0,ref:this.inputRef,children:[Object(l.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfIAAAGGCAIAAAAPQJRQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAU9SURBVHhe7dQBDQAADMOg+7c1Y/fRgAhuAIRoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBUrQOkKJ1gBStA6RoHSBF6wApWgdI0TpAitYBQrYHF+AUp7pdpxMAAAAASUVORK5CYII=",alt:"template"}),Object(l.jsxs)("div",{className:m.a.container,children:[Object(l.jsx)("h2",{children:this.props.productName}),Object(l.jsxs)("h3",{children:["RS. ",this.props.productPrice]}),Object(l.jsx)("h5",{children:this.props.productDescription}),Object(l.jsx)("button",{children:"View Details"}),Object(l.jsx)("button",{onClick:this.removeThisProduct,children:"Remove Product"})]})]})}}]),n}(r.a.Component),k=n(29),R=n.n(k),U=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).removeProduct=function(t){var e=o.state.products,n=e.findIndex((function(e){return e.id===t}));e.splice(n,1),o.setState({products:e},(function(){return console.log(o.state.products)}))},o.state={products:[{id:1,type:"T-Shirts",price:"599",description:"With M,L,XL,XXL Size"},{id:2,type:"Shoes",price:"999",description:"With 7,8,9,10,11,12 Size"},{id:3,type:"Trousers",price:"799",description:"With M,L,XL,XXL Size"},{id:4,type:"Shirts",price:"799",description:"With M,L,XL,XXL Size"}]},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.setProductCount(this.state.products.length)}},{key:"componentDidUpdate",value:function(){if(this.props.throwError)throw new Error}},{key:"render",value:function(){var t=this,e=this.state.products,n=e.filter((function(e){return e===t.state.products[0]})).map((function(e){return Object(l.jsx)(x,{focus:!0,removeProduct:t.removeProduct,setProductCount:t.props.setProductCount,productCount:t.state.products.length,productID:e.id,productName:e.type,productPrice:e.price,productDescription:e.description})})),o=e.filter((function(e){return e!==t.state.products[0]})).map((function(e){return Object(l.jsx)(x,{focus:!1,removeProduct:t.removeProduct,setProductCount:t.props.setProductCount,productCount:t.state.products.length,productID:e.id,productName:e.type,productPrice:e.price,productDescription:e.description})}));return Object(l.jsxs)("div",{className:R.a.container,children:[n,o]})}}]),n}(r.a.Component),I=n(24),W=n.n(I),P=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).changeProductCount=function(t){o.setState({noOfProducts:t},(function(){return console.log("Product count has been changed to ".concat(o.state.noOfProducts))}))},o.addProduct=function(t){""===t.type?o.setState({throwError:!0}):o.setState({newProduct:t},(function(){return console.log(o.state.newProduct)}))},o.state={noOfProducts:0,newProduct:null,throwError:!1},o}return Object(d.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:W.a.container,children:[Object(l.jsx)(v,{productCount:this.state.noOfProducts,addProduct:this.addProduct}),Object(l.jsx)(A,{children:Object(l.jsx)(U,{className:W.a.itemTwo,setProductCount:this.changeProductCount,newPrd:this.state.newProduct,throwError:this.state.throwError})})]})}}]),n}(r.a.Component),T=n.p+"static/media/logo.103b5fa1.svg",H=n(15);n(46);var F=function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{children:[Object(l.jsx)("img",{src:T,alt:"ReactLogo"}),Object(l.jsx)(H.b,{to:"/",children:Object(l.jsx)("h2",{children:"React Store"})}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(H.b,{to:"/shop",children:"Shop"})}),Object(l.jsx)("li",{children:Object(l.jsx)(H.b,{to:"/login",children:"Login"})})]})]})})},Q="DO_LOGIN";n(47);var Y=Object(f.b)(null,{loginActionCreater:function(t,e){return{type:Q,cred:{userName:t,password:e}}}})((function(t){var e=Object(o.useState)(""),n=Object(s.a)(e,2),r=n[0],i=n[1],c=Object(o.useState)(""),a=Object(s.a)(c,2),d=a[0],p=a[1];return Object(l.jsxs)("section",{children:[Object(l.jsx)("h2",{children:" Login Page "}),Object(l.jsx)("label",{children:"UserName : "}),Object(l.jsx)("input",{type:"text",name:"userName",value:r,onChange:function(t){return i(t.target.value)}}),Object(l.jsx)("label",{children:"Password : "}),Object(l.jsx)("input",{type:"password",name:"password",value:d,onChange:function(t){return p(t.target.value)}}),Object(l.jsx)("button",{onClick:function(){t.loginActionCreater(r,d),alert("Login Successful. Welcome ".concat(r))},children:"Submit"})]})})),J=(n(48),n(54)),C=function(){var t=Object(o.useState)([{userId:0,id:0,title:"",body:""}]),e=Object(s.a)(t,2),n=e[0],r=e[1];Object(o.useEffect)((function(){i()}),[]);var i=function(){fetch("https://jsonplaceholder.typicode.com/posts/?_limit=10",{method:"GET"}).then((function(t){if(t)return t.json()})).catch((function(t){console.log(t)})).then((function(t){t&&r(t)}))};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"React Store Posts"}),Object(l.jsx)(J.a,{children:n.map((function(t){return Object(l.jsx)(J.a.Item,{style:{width:"100%",padding:"20px auto",height:"250px",backgroundColor:"black"},children:Object(l.jsxs)(J.a.Caption,{children:[Object(l.jsx)("h3",{children:t.title}),Object(l.jsx)("p",{children:t.body})]})})}))})]})},K=n(34),y=n(4),N={userName:"",password:""};var D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;return e.type===Q?Object(y.a)(Object(y.a)({},t),{},{userName:e.cred.userName,password:e.cred.password}):Object(y.a)({},t)},L=Object(K.a)(D),E=n(2);n(50);var _=function(){var t=Object(o.useState)(navigator.onLine),e=Object(s.a)(t,2),n=e[0],r=e[1],i=function(){console.log("We are offline!"),r(!1)},c=function(){console.log("We are Online!"),r(!0)};return Object(o.useEffect)((function(){return console.log("in use effect",navigator.onLine),window.addEventListener("offline",i),window.addEventListener("online",c),function(){window.removeEventListener("offline",i),window.removeEventListener("online",c)}}),[]),Object(l.jsx)(H.a,{children:Object(l.jsx)(f.a,{store:L,children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(F,{}),Object(l.jsxs)(E.c,{children:[Object(l.jsx)(E.a,{path:"/",element:Object(l.jsx)(C,{})}),Object(l.jsx)(E.a,{path:"/shop",element:Object(l.jsx)(P,{})}),Object(l.jsx)(E.a,{path:"/login",element:Object(l.jsx)(Y,{})})]}),!n&&Object(l.jsx)("div",{style:{color:"white",paddingLeft:"10px",backgroundColor:"#372b25",width:"270px",height:"50px"},children:" You are in Offline mode"})]})})})},X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var G=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(e){var n=e.getCLS,o=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),o(t),r(t),i(t),c(t)}))};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(_,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");X?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):M(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):M(e,t)}))}}(),G()}},[[51,1,2]]]);
//# sourceMappingURL=main.1581cd1b.chunk.js.map